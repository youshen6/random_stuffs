<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
  </head>
<body>

<h1>This is a utility to add custom token to Metamask with image</h1>
<p>Resources may be available at <a href="https://www.coingecko.com/en">coingecko</a>.</p><br>
    
<label for="tokenAddress">Token Address:</label>
<input type="text" id="tokenAddress" size=50 value = '0x0000000000000000000000000000000000001010'><br>
<label for="tokenSymbol">Token Symbol:</label>
<input type="text" id="tokenSymbol" value='MATIC'><br>
<label for="tokenDecimals">Token Decimals:</label>
<input type="text" id="tokenDecimals" value='18'><br>
<label for="tokenImage">Token Image:</label>
<input type="text" id="tokenImage" size=100 value='https://assets.coingecko.com/coins/images/4713/small/matic___polygon.jpg'>
<br><br> 
 
<script>
function myFunction() {
var tokenAddress = document.getElementById('tokenAddress').value;
var tokenSymbol = document.getElementById('tokenSymbol').value;
var tokenDecimals = parseInt(document.getElementById('tokenDecimals').value);
var tokenImage = document.getElementById('tokenImage').value;

try {
  // wasAdded is a boolean. Like any RPC method, an error may be thrown.
  const wasAdded = ethereum.request({
    method: 'wallet_watchAsset',
    params: {
      type: 'ERC20', // Initially only supports ERC20, but eventually more!
      options: {
        address: tokenAddress, // The address that the token is at.
        symbol: tokenSymbol, // A ticker symbol or shorthand, up to 5 chars.
        decimals: tokenDecimals, // The number of decimals in the token
        image: tokenImage, // A string url of the token logo
      },
    },
  });

  if (wasAdded) {
    console.log('Thanks for your interest!');
  } else {
    console.log('Your loss!');
  }
} catch (error) {
  console.log(error);
}       
}
</script>

<button type="button" onclick="myFunction()">Click to add</button>
</body>


</html>
